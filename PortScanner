import socket

def port_scanner(server, port):
    """
    scans the given server and port
    
    Parameters
    -----------
    server : string
        domain name
    port : int
        port number

    Returns
    ----------
    bool
        True if port exists, false if it does not

     """
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    try:
        sock.connect((server, port))
    except socket.gaierror:
        print("Invalid Hostname")
        return False
    except socket.error:
        print("Server Connection Error")
    else:
        return True

host = input("Enter the host: ")
for i in range(1,5000):
    if port_scanner(host, i):
        print(f"{host}:{i} is open")
    else:
        print(f"{host}:{i} is closed", end ="\r")

